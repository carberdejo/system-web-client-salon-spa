@model ProyClienteSpaHelena.Models.ReservaResponseDTO

@{
    ViewData["Title"] = "Cambiar Estado de Reserva";
}

<div class="container mt-5">
    <div class="card shadow-lg border-0 rounded-3">
        <div class="card-header bg-gradient text-white" style="background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);">
            <h2 class="mb-0 text-center">✨ Cambiar Estado de Reserva ✨</h2>
        </div>
        <div class="card-body">
            <h5 class="text-muted mb-4 text-center">Detalles de la Reserva</h5>

            <dl class="row mb-4">
                <dt class="col-sm-4 fw-bold text-secondary">🆔 Id</dt>
                <dd class="col-sm-8">@Model.Id</dd>

                <dt class="col-sm-4 fw-bold text-secondary">👤 Cliente</dt>
                <dd class="col-sm-8">@Model.NombreCliente</dd>

                <dt class="col-sm-4 fw-bold text-secondary">💼 Recepcionista</dt>
                <dd class="col-sm-8">@Model.NomRecepcionista</dd>

                <dt class="col-sm-4 fw-bold text-secondary">📅 Fecha</dt>
                <dd class="col-sm-8">@Model.Fecha.ToString("dd/MM/yyyy HH:mm")</dd>

                <dt class="col-sm-4 fw-bold text-secondary">📝 Notas</dt>
                <dd class="col-sm-8">@Model.Notas</dd>

                <dt class="col-sm-4 fw-bold text-secondary">💇‍♀️ Trabajadora</dt>
                <dd class="col-sm-8">@Model.NomTrabajadora</dd>
            </dl>

            <form asp-action="CambiarEstadoReserva" method="post">
                <input type="hidden" asp-for="Id" />

                <div class="form-group mb-4">
                    <label for="Estado" class="form-label fw-bold">🌟 Estado de la Reserva</label>
                    <select asp-for="Estado" class="form-select shadow-sm border-0" style="background-color: #f8f9fa;" id="Estado" required>
                        <option value="PENDIENTE" selected="@("PENDIENTE" == Model.Estado)">🕒 PENDIENTE</option>
                        <option value="CANCELADA" selected="@("CANCELADA" == Model.Estado)">❌ CANCELADA</option>
                        <option value="EN_SERVICIO" selected="@("EN_SERVICIO" == Model.Estado)">💆‍♀️ EN SERVICIO</option>
                    </select>
                </div>

                <div class="d-flex justify-content-center">
                    <button type="submit" class="spa-btn spa-btn-green">💾 Guardar Cambios</button>
                    <a asp-action="IndexReserva" class="spa-btn spa-btn-blue ms-2">↩️ Cancelar</a>
                </div>
            </form>
        </div>
        <div class="card-footer text-center">
            <h6 class="text-info">@ViewBag.mesagge</h6>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}

